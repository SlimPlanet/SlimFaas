{"pageProps":{"contentHtml":"<html><head></head><body><h1>OpenTelemetry Integration</h1>\n<p>SlimFaas provides built-in support for OpenTelemetry, enabling comprehensive observability of your serverless functions through distributed tracing, metrics, and logs.</p>\n<hr>\n<h2>üöÄ Features</h2>\n<ul>\n<li><strong>Automatic instrumentation</strong> of ASP.NET Core and HTTP client calls</li>\n<li><strong>OTLP export</strong> to any compatible backend (Jaeger, Tempo, Prometheus, etc.)</li>\n<li><strong>Traces, metrics, and logs</strong> correlation</li>\n<li><strong>Console exporter</strong> for local debugging</li>\n<li><strong>Minimal configuration</strong> via <code>appsettings.json</code> or environment variables</li>\n<li><strong>Production-ready</strong> with configurable endpoints and service names</li>\n</ul>\n<hr>\n<h2>üìñ Configuration Parameters</h2>\n<blockquote>\n<p>Configuration can be provided through <code>appsettings.json</code> or environment variables.</p>\n</blockquote>\n<div class=\"table-scroll\" role=\"region\" aria-label=\"Scrollable table\" tabindex=\"0\"><table>\n<thead>\n<tr>\n<th>Parameter</th>\n<th>Required</th>\n<th>Type</th>\n<th>Purpose</th>\n<th>Notes</th>\n<th>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>Enable</code></td>\n<td>‚úÖ Yes</td>\n<td>Boolean</td>\n<td>Enable/disable OpenTelemetry instrumentation</td>\n<td>Set to <code>false</code> to completely disable telemetry</td>\n<td><code>true</code></td>\n</tr>\n<tr>\n<td><code>ServiceName</code></td>\n<td>Optional</td>\n<td>String</td>\n<td>Name of the service for tracing</td>\n<td>Helps identify traces in your observability platform</td>\n<td><code>\"SlimFaas\"</code></td>\n</tr>\n<tr>\n<td><code>Endpoint</code></td>\n<td>Conditional</td>\n<td>String (URL)</td>\n<td>OTLP exporter endpoint (gRPC)</td>\n<td>Required if <code>Enable</code> is <code>true</code></td>\n<td><code>\"http://localhost:4317\"</code></td>\n</tr>\n<tr>\n<td><code>EnableConsoleExporter</code></td>\n<td>Optional</td>\n<td>Boolean</td>\n<td>Export to console for debugging</td>\n<td>Useful for local development</td>\n<td><code>false</code></td>\n</tr>\n<tr>\n<td><code>ExcludedUrls</code></td>\n<td>Optional</td>\n<td>string array</td>\n<td>List of URL path prefixes to exclude from tracing</td>\n<td></td>\n<td><code>[\"/health\", \"/metrics\"]</code></td>\n</tr>\n</tbody>\n</table></div>\n<p><strong>Configuration Priority (default behavior):</strong></p>\n<ol>\n<li>Configuration values from <code>appsettings.json</code> (highest priority)</li>\n<li>Environment variables <code>OTEL_SERVICE_NAME</code> and <code>OTEL_EXPORTER_OTLP_ENDPOINT</code> (fallback if configuration values are not specified)</li>\n<li>If <code>Enable</code> is <code>true</code> and no <code>Endpoint</code> is found in either configuration or environment variables, the OpenTelemetry default value will be used.</li>\n</ol>\n<hr>\n<h2>üì¶ Quick Start</h2>\n<h3>appsettings.json Configuration</h3>\n<pre><code class=\"language-json hljs\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"OpenTelemetry\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"Enable\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\"><span class=\"hljs-keyword\">true</span></span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"ServiceName\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"SlimFaas\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"Endpoint\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"http://localhost:4317\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"EnableConsoleExporter\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\"><span class=\"hljs-keyword\">false</span></span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"ExcludedUrls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"/health\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"/metrics\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"/swagger\"</span><span class=\"hljs-punctuation\">]</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<h3>Environment Variables</h3>\n<pre><code class=\"language-bash hljs\"><span class=\"hljs-comment\"># Windows</span>\n<span class=\"hljs-built_in\">set</span> <span class=\"hljs-attribute\">OpenTelemetry__Enable</span>=<span class=\"hljs-literal\">true</span>\n<span class=\"hljs-built_in\">set</span> <span class=\"hljs-attribute\">OpenTelemetry__ServiceName</span>=SlimFaas\n<span class=\"hljs-built_in\">set</span> <span class=\"hljs-attribute\">OpenTelemetry__Endpoint</span>=http://localhost:4317\n<span class=\"hljs-built_in\">set</span> <span class=\"hljs-attribute\">OpenTelemetry__EnableConsoleExporter</span>=<span class=\"hljs-literal\">false</span>\n<span class=\"hljs-built_in\">set</span> <span class=\"hljs-attribute\">OpenTelemetry__ExcludedUrls__0</span>=health\n<span class=\"hljs-built_in\">set</span> <span class=\"hljs-attribute\">OpenTelemetry__ExcludedUrls__1</span>=metrics\n\n<span class=\"hljs-comment\"># Linux/Mac</span>\n<span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">OpenTelemetry__Enable</span>=<span class=\"hljs-literal\">true</span>\n<span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">OpenTelemetry__ServiceName</span>=SlimFaas\n<span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">OpenTelemetry__Endpoint</span>=http://localhost:4317\n<span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">OpenTelemetry__EnableConsoleExporter</span>=<span class=\"hljs-literal\">false</span>\n<span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">OpenTelemetry__ExcludedUrls__0</span>=heatlh\n<span class=\"hljs-built_in\">export</span> <span class=\"hljs-attribute\">OpenTelemetry__ExcludedUrls__1</span>=metrics\n</code></pre>\n<hr>\n<h2>üîå What is Collected</h2>\n<h3>Traces</h3>\n<p>SlimFaas automatically instruments:</p>\n<ul>\n<li>‚úÖ <strong>HTTP requests</strong> via ASP.NET Core instrumentation. URLs specified in <code>ExcludedUrls</code> are filtered from tracing based on <strong>case-insensitive path prefix matching</strong>. For example, <code>/health</code> will exclude <code>/health</code>, <code>/health/live</code>, <code>/health/ready</code>, etc.</li>\n<li>Empty or missing <code>ExcludedUrls</code> configuration will use the default values <code>[\"/health\", \"/metrics\"]</code></li>\n<li>‚úÖ <strong>HTTP client calls</strong> to functions and external services</li>\n</ul>\n<h3>Logs</h3>\n<ul>\n<li>‚úÖ <strong>Application logs</strong> exported via OTLP</li>\n<li><strong>Note</strong>: URL filtering does <strong>not</strong> apply to logs; all logs are collected regardless of <code>ExcludedUrls</code></li>\n</ul>\n<h3>Metrics</h3>\n<p>Exported metrics include:</p>\n<ul>\n<li>‚úÖ <strong>ASP.NET Core metrics</strong>: request duration, request count, etc.</li>\n<li>‚úÖ <strong>HTTP client metrics</strong>: outbound request duration and count</li>\n<li><strong>Note</strong>: URL filtering does <strong>not</strong> apply to metrics; all metrics are collected regardless of <code>ExcludedUrls</code></li>\n</ul>\n<hr>\n<h2>üêõ Debugging with Console Exporter</h2>\n<p>For local development and debugging, enable the console exporter:</p>\n<pre><code class=\"language-json hljs\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"OpenTelemetry\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"Enable\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\"><span class=\"hljs-keyword\">true</span></span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"ServiceName\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"SlimFaas\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"Endpoint\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"http://localhost:4317\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"EnableConsoleExporter\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\"><span class=\"hljs-keyword\">true</span></span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"ExcludedUrls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"/health\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"/metrics\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"/swagger\"</span><span class=\"hljs-punctuation\">]</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>This will output telemetry data directly to the console alongside the OTLP export.</p>\n<hr>\n<p><strong>Enjoy distributed tracing with SlimFaas!</strong> üöÄ</p>\n</body></html>","metadata":{}},"__N_SSG":true}