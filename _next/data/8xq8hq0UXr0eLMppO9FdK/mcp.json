{"pageProps":{"contentHtml":"<html><head></head><body><h1>SlimFaas MCP <a href=\"https://hub.docker.com/r/axaguildev/slimfaas-mcp/builds\"><img src=\"https://img.shields.io/docker/pulls/axaguildev/slimfaas-mcp.svg?label=docker+pull+slimfaas-mcp\" alt=\"Docker SlimFaas\"></a> <a href=\"https://hub.docker.com/r/axaguildev/slimfaas/builds\"><img src=\"https://img.shields.io/docker/image-size/axaguildev/slimfaas-mcp?label=image+size+slimfaas-mcp\" alt=\"Docker Image Size\"></a> <a href=\"https://hub.docker.com/r/axaguildev/slimfaas-mcp/builds\"><img src=\"https://img.shields.io/docker/v/axaguildev/slimfaas-mcp?sort=semver&amp;label=latest+version+slimfaas-mcp\" alt=\"Docker Image Version\"></a> <a href=\"https://artifacthub.io/packages/search?repo=slimfaas-mcp\"><img src=\"https://img.shields.io/endpoint?url=https://artifacthub.io/badge/repository/slimfaas-mcp\" alt=\"Artifact Hub\"></a></h1>\n<p>Adopt the <strong>Model‚ÄëContext‚ÄëProtocol (MCP)</strong> at scale‚Äîwithout rewriting a single API! SlimFaas MCP is one of the simpler and faster MCP runtimes available, turning <em>any</em> OpenAPI (Swagger) definition into a fully compliant MCP toolset on the fly.</p>\n<ul>\n<li><strong>Dynamic proxy</strong> ‚Äì SlimFaas MCP turns <em>any</em> <code>openapi.json</code> into a 100 % MCP‚Äëready endpoint, with zero impact on your code and no compromise on security (your OIDC tokens still flow as usual).</li>\n<li><strong>Live documentation &amp; prompting overrides</strong> ‚Äì enrich or replace endpoint descriptions and schemas in flight via the <code>mcp_prompt</code> parameter.</li>\n<li><strong>Tiny &amp; native</strong> ‚Äì single self‚Äëcontained binary &gt; 15MB for Linux, macOS and Windows, plus multi‚Äëarch Docker images (x64 &amp; ARM).</li>\n<li><strong>Flexible</strong> ‚Äì hot‚Äëswap docs whenever you need‚Äîno rebuild, no downtime.</li>\n<li><strong>Security</strong> - Implement RFC 9728 for client dynamic discovery. Works with all Oauth flow: PKCE, mTLS, DPoP‚Ä¶\n<ul>\n<li><a href=\"https://datatracker.ietf.org/doc/rfc9728/\">https://datatracker.ietf.org/doc/rfc9728/</a></li>\n</ul>\n</li>\n</ul>\n<p>Grab the latest binaries on the <strong><a href=\"https://github.com/SlimPlanet/SlimFaas/releases\">GitHub Releases</a></strong> page:</p>\n<div class=\"table-scroll\" role=\"region\" aria-label=\"Scrollable table\" tabindex=\"0\"><table>\n<thead>\n<tr>\n<th>OS / Arch</th>\n<th>File</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Linux x64</td>\n<td><code>SlimFaasMcp-linux-x64</code></td>\n</tr>\n<tr>\n<td>macOS ARM64</td>\n<td><code>SlimFaasMcp-osx-arm64</code></td>\n</tr>\n<tr>\n<td>macOS x64</td>\n<td><code>SlimFaasMcp-osx-x64</code></td>\n</tr>\n<tr>\n<td>Windows x64</td>\n<td><code>SlimFaasMcp-win-x64.exe</code></td>\n</tr>\n</tbody>\n</table></div>\n<hr>\n<p>This project is a <strong>runtime MCP proxy</strong> that dynamically generates SlimFaas‚Äëcompatible MCP tools from any remote Swagger (OpenAPI v3) document. Every endpoint in the source API is exposed as a <em>tool</em>, complete with an on‚Äëthe‚Äëfly YAML manifest and a real‚Äëtime reverse proxy to the underlying API.</p>\n<hr>\n<h2>üöÄ Features</h2>\n<ul>\n<li>\n<p><strong>Dynamic download</strong> of any remote Swagger (OpenAPI v3) document at runtime.</p>\n</li>\n<li>\n<p><strong>Parses &amp; exposes</strong> every endpoint (GET, POST, PUT, DELETE, ‚Ä¶) as an MCP tool.</p>\n</li>\n<li>\n<p><strong>Documentation overriding</strong> through the <code>mcp_prompt</code> mechanism (Base‚Äë64‚Äëencoded JSON/YAML).</p>\n</li>\n<li>\n<p><strong>No static code generation</strong>‚Äîeverything is live, built from the Swagger URL.</p>\n</li>\n<li>\n<p><strong>Key endpoints</strong></p>\n<ul>\n<li>\n<p><code>POST /mcp</code> (JSON‚ÄëRPC 2.0)</p>\n<ul>\n<li>Query ‚Äì <code>openapi_url</code>, <code>base_url</code>, <code>mcp_prompt</code>, <code>oauth</code>, <code>structured_content</code>, <code>tool_prefix</code></li>\n</ul>\n</li>\n<li>\n<p><code>GET  /tools</code> ‚Äì list all generated MCP tools</p>\n<ul>\n<li>Query ‚Äì <code>openapi_url</code>, <code>base_url</code>, <code>mcp_prompt</code>, <code>tool_prefix</code></li>\n</ul>\n</li>\n<li>\n<p><code>POST /tools/{toolName}</code> ‚Äì execute a proxied call to the API</p>\n<ul>\n<li>Query ‚Äì <code>openapi_url</code>, <code>base_url</code>, <code>mcp_prompt</code>, <code>oauth</code>, <code>structured_content</code>, <code>tool_prefix</code></li>\n</ul>\n</li>\n<li>\n<p><code>GET /{oauth}/.well-known/oauth-protected-resource</code> ‚Äì for client dynamic authorization server discovery (RFC 9728)</p>\n</li>\n</ul>\n</li>\n<li>\n<p><strong>Minimal Web UI</strong> served at <code>/index.html</code> for interactive testing.</p>\n</li>\n</ul>\n<hr>\n<h2>üìñ Query Parameters Cheat Sheet</h2>\n<blockquote>\n<p>Applies to both <code>POST /mcp</code> (JSON-RPC endpoint) and the UI helper endpoint <code>POST /tools/{toolName}</code>.</p>\n</blockquote>\n<div class=\"table-scroll\" role=\"region\" aria-label=\"Scrollable table\" tabindex=\"0\"><table>\n<thead>\n<tr>\n<th>Parameter</th>\n<th>Required</th>\n<th>Type / Format</th>\n<th>Purpose</th>\n<th>Notes</th>\n<th>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>openapi_url</code></td>\n<td>‚úÖ Yes</td>\n<td>Absolute URL</td>\n<td>Location of the OpenAPI (JSON) document to consume.</td>\n<td>Used to discover endpoints (tools).</td>\n<td><code>https://petstore3.swagger.io/api/v3/openapi.json</code></td>\n</tr>\n<tr>\n<td><code>base_url</code></td>\n<td>‚úÖ Yes</td>\n<td>Absolute URL</td>\n<td>Overrides the base URL used for actual API calls.</td>\n<td>Useful if the OpenAPI doc is hosted separately from the API origin.</td>\n<td><code>https://petstore3.swagger.io/api/v3</code></td>\n</tr>\n<tr>\n<td><code>mcp_prompt</code></td>\n<td>Optional</td>\n<td><strong>Base64</strong> of a JSON object (or YAML converted to JSON)</td>\n<td>Filters/overrides tools (<code>activeTools</code>, descriptions, input/output schemas).</td>\n<td>Must be <strong>UTF-8 base64</strong>. Server applies overrides <strong>before</strong> exposing <code>tools/list</code>.</td>\n<td>See base64 example below</td>\n</tr>\n<tr>\n<td><code>oauth</code></td>\n<td>Optional</td>\n<td><strong>Base64</strong> of an OAuth Protected Resource Metadata JSON (RFC 9728)</td>\n<td>Lets the server advertise protected resource metadata.</td>\n<td>If present <strong>and</strong> there is <strong>no</strong> <code>Authorization</code> header, server returns <code>401</code> with a <code>WWW-Authenticate: Bearer resource_metadata=\".../.well-known/oauth-protected-resource\"</code> challenge.</td>\n<td>See base64 example below</td>\n</tr>\n<tr>\n<td><code>structured_content</code></td>\n<td>Optional</td>\n<td>Boolean (<code>true</code>/<code>false</code>)</td>\n<td>Enables inclusion of <strong><code>structuredContent</code></strong> (JSON object) in responses.</td>\n<td>When <code>true</code> and the upstream response is JSON, the server returns <strong>both</strong> a human-readable <code>content[]</code> block (with a <code>text</code> item) <strong>and</strong> a machine-readable <code>structuredContent</code> object.</td>\n<td><code>true</code></td>\n</tr>\n<tr>\n<td><code>tool_prefix</code></td>\n<td>Optional</td>\n<td>string</td>\n<td>Prefix all tool name with <strong><code>value_</code></strong></td>\n<td>Useful to prevent mismatch between tools name on differents services</td>\n<td><code>?tool_prefix=youhou</code></td>\n</tr>\n<tr>\n<td><code>cache_expiration</code></td>\n<td>Optional</td>\n<td>unsigned short int</td>\n<td>Cache time for the OpenAPI document, in minutes (set to 0 to disable caching). Defaults to 10 minutes.</td>\n<td>Avoid multiple requests to your OpenAPI document</td>\n<td><code>?expiration=10</code></td>\n</tr>\n</tbody>\n</table></div>\n<hr>\n<h3>Ready-to-use examples</h3>\n<h4>1) <code>oauth</code> (base64)</h4>\n<p><strong>Raw JSON:</strong></p>\n<pre><code class=\"hljs\">{\n    <span class=\"hljs-string\">\"resource\"</span>:<span class=\"hljs-string\">\"https://api.example.com/v1/\"</span>,\n    <span class=\"hljs-string\">\"authorization_servers\"</span>:[<span class=\"hljs-string\">\"https://auth.example.com\"</span>],\n    <span class=\"hljs-string\">\"scopes_supported\"</span>:[<span class=\"hljs-string\">\"read:data\"</span>,<span class=\"hljs-string\">\"write:data\"</span>]\n}\n</code></pre>\n<p><strong>Base64 (UTF-8):</strong></p>\n<pre><code class=\"hljs\"><span class=\"hljs-attribute\">eyJyZXNvdXJjZSI6Imh0dHBzOi8vYXBpLmV4YW1wbGUuY29tL3YxLyIsImF1dGhvcml6YXRpb25fc2VydmVycyI6WyJodHRwczovL2F1dGguZXhhbXBsZS5jb20iXSwic2NvcGVzX3N1cHBvcnRlZCI6WyJyZWFkOmRhdGEiLCJ3cml0ZTpkYXRhIl19</span>\n</code></pre>\n<blockquote>\n<p>‚ö†Ô∏è Always <strong>URL-encode</strong> base64 when putting it in a query string (escape <code>+</code>, <code>/</code>, <code>=</code>).</p>\n</blockquote>\n<hr>\n<h4>2) <code>mcp_prompt</code> (base64)</h4>\n<p><strong>Raw JSON ‚Äî example override:</strong></p>\n<pre><code class=\"hljs\">{\n    <span class=\"hljs-string\">\"activeTools\"</span>:[<span class=\"hljs-string\">\"getPets\"</span>,<span class=\"hljs-string\">\"post_pet_petId_uploadImage\"</span>],\n    <span class=\"hljs-string\">\"tools\"</span>:[\n        {\n            <span class=\"hljs-string\">\"name\"</span>:<span class=\"hljs-string\">\"post_pet_petId_uploadImage\"</span>,\n            <span class=\"hljs-string\">\"description\"</span>:<span class=\"hljs-string\">\"Uploads an image\"</span>,\n            <span class=\"hljs-string\">\"inputSchema\"</span>:{\n                <span class=\"hljs-string\">\"type\"</span>:<span class=\"hljs-string\">\"object\"</span>,\n                <span class=\"hljs-string\">\"properties\"</span>:{\n                    <span class=\"hljs-string\">\"petId\"</span>:{<span class=\"hljs-string\">\"type\"</span>:<span class=\"hljs-string\">\"integer\"</span>},\n                    <span class=\"hljs-string\">\"body\"</span>:{<span class=\"hljs-string\">\"type\"</span>:<span class=\"hljs-string\">\"string\"</span>,<span class=\"hljs-string\">\"format\"</span>:<span class=\"hljs-string\">\"binary\"</span>}},\n                <span class=\"hljs-string\">\"required\"</span>:[<span class=\"hljs-string\">\"petId\"</span>,<span class=\"hljs-string\">\"body\"</span>]\n            }\n        }\n    ]\n}\n</code></pre>\n<p><strong>Base64 (UTF-8):</strong></p>\n<pre><code class=\"hljs\">eyJhY3RpdmVUb29scyI6WyJnZXRQZXRzIiwicG9zdF9wZXRfcGV0SWRfdXBsb2FkSW1hZ2UiXSwidG9vbHMiOlt7Im5hbWUiOiJwb3N0X3BldF9wZXRJZF91cGxvYWRJbWFnZSIsImRlc2NyaXB0aW9uIjoiVXBsb2FkcyBhbiBpbWFnZSIsImlucHV0U2NoZW1hIjp7InR5cGUiOiJvYmplY3QiLCJwcm9wZXJ0aWVzIjp7InBldElkIjp7InR5cGUiOiJpbnRlZ2VyIn0sImJvZHkiOnsicHlwZSI6InN0cmluZyIsImZvcm1hdCI6ImJpbmFyeSJ9fSwicmVxdWlyZWQiOlsicGV0SWQiLCJib2R5Il19fV19\n</code></pre>\n<hr>\n<h4>3) Full URL (all params together)</h4>\n<pre><code class=\"hljs\"><span class=\"hljs-symbol\">https:</span>//localhost:<span class=\"hljs-number\">5001</span>/mcp\n  ?openapi_url<span class=\"hljs-operator\">=</span>https<span class=\"hljs-variable\">%3</span>A<span class=\"hljs-variable\">%2</span>F<span class=\"hljs-variable\">%2</span>Fpetstore<span class=\"hljs-number\">3</span>.swagger.io<span class=\"hljs-variable\">%2</span>Fapi<span class=\"hljs-variable\">%2</span>Fv<span class=\"hljs-number\">3</span><span class=\"hljs-variable\">%2</span>Fopenapi.json\n  &amp;base_url<span class=\"hljs-operator\">=</span>https<span class=\"hljs-variable\">%3</span>A<span class=\"hljs-variable\">%2</span>F<span class=\"hljs-variable\">%2</span>Fpetstore<span class=\"hljs-number\">3</span>.swagger.io<span class=\"hljs-variable\">%2</span>Fapi<span class=\"hljs-variable\">%2</span>Fv<span class=\"hljs-number\">3</span>\n  &amp;mcp_prompt<span class=\"hljs-operator\">=</span>eyJhY<span class=\"hljs-number\">3</span>RpdmV...fV<span class=\"hljs-number\">19</span>\n  &amp;oauth<span class=\"hljs-operator\">=</span>eyJyZXNvdXJ...aIl<span class=\"hljs-number\">19</span>\n  &amp;structured_content<span class=\"hljs-operator\">=</span><span class=\"hljs-keyword\">true</span>\n  &amp;tool_prefix<span class=\"hljs-operator\">=</span>youhou\n  &amp;cache_expiration<span class=\"hljs-operator\">=</span><span class=\"hljs-number\">10</span>\n</code></pre>\n<blockquote>\n<p>The base64 strings are truncated here for readability‚Äîuse the full strings above (URL-encoded).</p>\n</blockquote>\n<h2>üì¶ Quick start</h2>\n<pre><code class=\"language-bash hljs\"><span class=\"hljs-comment\"># Pull &amp; run the latest multi‚Äëarch image</span>\n\ndocker <span class=\"hljs-keyword\">run</span><span class=\"language-bash\"> --<span class=\"hljs-built_in\">rm</span> -p 8080:8080  -e ASPNETCORE_URLS=<span class=\"hljs-string\">\"http://*:8080\"</span> axaguildev/slimfaas-mcp:latest</span>\n</code></pre>\n<p>The API listens on <strong><a href=\"http://localhost:8080\">http://localhost:8080</a></strong> by default.</p>\n<hr>\n<h2>üñ•Ô∏è Web UI for tool testing</h2>\n<ol>\n<li>Open <strong><a href=\"http://localhost:8080/index.html\">http://localhost:8080/index.html</a></strong>.</li>\n<li>Enter a Swagger URL</li>\n</ol>\n<ul>\n<li>e.g. <code>https://petstore3.swagger.io/api/v3/openapi.json</code></li>\n<li>e.g. <code>https://developer.atlassian.com/cloud/jira/platform/swagger-v3.v3.json</code></li>\n</ul>\n<ol start=\"3\">\n<li>Click <strong>Load Tools</strong>.</li>\n<li>Explore and call MCP tools directly from your browser.</li>\n</ol>\n<hr>\n<h2>üìñ Main API endpoints</h2>\n<div class=\"table-scroll\" role=\"region\" aria-label=\"Scrollable table\" tabindex=\"0\"><table>\n<thead>\n<tr>\n<th>Method &amp; path</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>POST /mcp</code></td>\n<td>MCP JSON‚ÄëRPC 2.0 endpoint (<code>openapi_url</code>, <code>base_url</code>, <code>mcp_prompt</code>).</td>\n</tr>\n<tr>\n<td><code>GET /tools</code></td>\n<td>Returns the list of MCP tools generated from the provided Swagger.</td>\n</tr>\n<tr>\n<td><code>POST /tools/{toolName}</code></td>\n<td>Executes the specified tool. Body = JSON arguments.</td>\n</tr>\n<tr>\n<td><code>GET /{oauth}/.well-known/oauth-protected-resource</code></td>\n<td>Authorization server configuration in JSON format</td>\n</tr>\n<tr>\n<td><code>GET /index.html</code></td>\n<td>Minimalist web UI.</td>\n</tr>\n</tbody>\n</table></div>\n<hr>\n<h3>Configure CORS via environment variables</h3>\n<p>SlimFaas MCP supports CORS configuration through environment variables.\nEach variable overrides the default values from <code>appsettings.json</code>.</p>\n<div class=\"table-scroll\" role=\"region\" aria-label=\"Scrollable table\" tabindex=\"0\"><table>\n<thead>\n<tr>\n<th>Environment Variable</th>\n<th>Type</th>\n<th>Example Values</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>CORS_ORIGINS</code></td>\n<td>CSV list</td>\n<td><code>*</code> ‚Äî allow any origin<code>https://*.axa.com,http://localhost:3000</code> ‚Äî allow specific origins</td>\n</tr>\n<tr>\n<td><code>CORS_METHODS</code></td>\n<td>CSV list</td>\n<td><code>*</code> ‚Äî allow all methods<code>GET,POST,OPTIONS</code> ‚Äî allow only these methods</td>\n</tr>\n<tr>\n<td><code>CORS_HEADERS</code></td>\n<td>CSV list</td>\n<td><code>*</code> ‚Äî allow all headers<code>Authorization,Content-Type,Dpop</code> ‚Äî allow only these headers</td>\n</tr>\n<tr>\n<td><code>CORS_EXPOSE</code></td>\n<td>CSV list</td>\n<td>Headers exposed to the browser, e.g. <code>WWW-Authenticate,Content-Disposition</code></td>\n</tr>\n<tr>\n<td><code>CORS_CREDENTIALS</code></td>\n<td>boolean</td>\n<td><code>true</code> or <code>false</code> ‚Äî whether to allow credentialed requests (cookies, Authorization headers, etc.)</td>\n</tr>\n<tr>\n<td><code>CORS_MAXAGEMINUTES</code></td>\n<td>integer</td>\n<td>How long preflight responses can be cached (in minutes), e.g. <code>60</code></td>\n</tr>\n</tbody>\n</table></div>\n<h4>‚úÖ Example (development)</h4>\n<pre><code class=\"language-bash hljs\"><span class=\"hljs-attribute\">CORS_ORIGINS</span>=*\n<span class=\"hljs-attribute\">CORS_METHODS</span>=*\n<span class=\"hljs-attribute\">CORS_HEADERS</span>=*\n<span class=\"hljs-attribute\">CORS_CREDENTIALS</span>=<span class=\"hljs-literal\">false</span>\n<span class=\"hljs-attribute\">CORS_MAXAGEMINUTES</span>=10\n```bash\n\n<span class=\"hljs-comment\">#### ‚úÖ Example (production)</span>\n```bash\n<span class=\"hljs-attribute\">CORS_ORIGINS</span>=https://*.axa.com,https://tools.axa.com\n<span class=\"hljs-attribute\">CORS_METHODS</span>=GET,POST,OPTIONS\n<span class=\"hljs-attribute\">CORS_HEADERS</span>=Authorization,Content-Type,Dpop\n<span class=\"hljs-attribute\">CORS_EXPOSE</span>=WWW-Authenticate,Content-Disposition\n<span class=\"hljs-attribute\">CORS_CREDENTIALS</span>=<span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attribute\">CORS_MAXAGEMINUTES</span>=120\n</code></pre>\n<p><strong>Wildcards</strong> (<code>*</code>, <code>*.domain.com</code>, <code>localhost:*</code>) <strong>are supported</strong> in origins.\nEmpty or missing values fallback to the default configuration in <code>appsettings.json</code>.</p>\n<h3>Environment variables</h3>\n<p>You can log HTTP requests made by SlimFaas MCP by using :</p>\n<pre><code class=\"language-bash hljs\"><span class=\"hljs-comment\"># Windows</span>\n<span class=\"hljs-built_in\">set</span> <span class=\"hljs-attribute\">Logging__LogLevel__SlimFaasMcp</span>=Debug\n<span class=\"hljs-comment\"># Linux/Mac</span>\n<span class=\"hljs-attribute\">Logging__LogLevel__SlimFaasMcp</span>=Debug\n</code></pre>\n<hr>\n<h3>Configure OpenTelemetry</h3>\n<p>SlimFaas MCP supports OpenTelemetry instrumentation for distributed tracing, metrics, and logging.\nConfiguration can be provided through <code>appsettings.json</code> or environment variables.</p>\n<div class=\"table-scroll\" role=\"region\" aria-label=\"Scrollable table\" tabindex=\"0\"><table>\n<thead>\n<tr>\n<th>Configuration Key</th>\n<th>Type</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>OpenTelemetry__Enable</code></td>\n<td>boolean</td>\n<td>Enable or disable OpenTelemetry instrumentation. Set to <code>false</code> to completely disable telemetry.</td>\n</tr>\n<tr>\n<td><code>OpenTelemetry__ServiceName</code></td>\n<td>string</td>\n<td>Name of the service for telemetry data. If not specified, falls back to <code>OTEL_SERVICE_NAME</code> environment variable (default behavior).</td>\n</tr>\n<tr>\n<td><code>OpenTelemetry__Endpoint</code></td>\n<td>string</td>\n<td>OTLP endpoint URL for exporting telemetry data. If not specified, falls back to <code>OTEL_EXPORTER_OTLP_ENDPOINT</code> environment variable (default behavior).</td>\n</tr>\n<tr>\n<td><code>OpenTelemetry__EnableConsoleExporter</code></td>\n<td>boolean</td>\n<td>Enable console exporter for debugging purposes. Defaults to <code>false</code>.</td>\n</tr>\n<tr>\n<td><code>OpenTelemetry__ExcludedUrls</code></td>\n<td>string array</td>\n<td>List of URL path prefixes to exclude from tracing. Defaults to <code>[\"/health\", \"/metrics\"]</code>.</td>\n</tr>\n</tbody>\n</table></div>\n<p><strong>Configuration Priority (default behavior):</strong></p>\n<ol>\n<li>Configuration values from <code>appsettings.json</code> (highest priority)</li>\n<li>Environment variables <code>OTEL_SERVICE_NAME</code> and <code>OTEL_EXPORTER_OTLP_ENDPOINT</code> (fallback if configuration values are not specified)</li>\n<li>If <code>Enable</code> is <code>true</code> and no <code>Endpoint</code> is found in either configuration or environment variables, the OpenTelemetry default value will be used.</li>\n</ol>\n<h4>‚úÖ Example (appsettings.json)</h4>\n<pre><code class=\"language-json hljs\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"OpenTelemetry\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"Enable\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\"><span class=\"hljs-keyword\">true</span></span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"ServiceName\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"SlimFaasMcp\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"Endpoint\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"http://otel-collector:4317\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"EnableConsoleExporter\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-literal\"><span class=\"hljs-keyword\">false</span></span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"ExcludedUrls\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span><span class=\"hljs-string\">\"/health\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"/metrics\"</span><span class=\"hljs-punctuation\">,</span> <span class=\"hljs-string\">\"/swagger\"</span><span class=\"hljs-punctuation\">]</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<h4>‚úÖ Example (using environment variables only - default fallback behavior)</h4>\n<pre><code class=\"language-bash hljs\"><span class=\"hljs-attr\">OpenTelemetry__Enable</span>=<span class=\"hljs-literal\">true</span>\n<span class=\"hljs-attr\">OTEL_SERVICE_NAME</span>=SlimFaasMcp-Production\n<span class=\"hljs-attr\">OTEL_EXPORTER_OTLP_ENDPOINT</span>=http://otel-collector:<span class=\"hljs-number\">4317</span>\n<span class=\"hljs-attr\">OpenTelemetry__ExcludedUrls__0</span>=/health\n<span class=\"hljs-attr\">OpenTelemetry__ExcludedUrls__1</span>=/metrics\n<span class=\"hljs-attr\">OpenTelemetry__ExcludedUrls__2</span>=/swagger\n</code></pre>\n<h4>‚úÖ Example (Docker with configuration values)</h4>\n<pre><code class=\"language-bash hljs\"><span class=\"hljs-attribute\">docker</span> run --rm -p <span class=\"hljs-number\">8080</span>:<span class=\"hljs-number\">8080</span> <span class=\"hljs-punctuation\">\\\n</span>  -e ASPNETCORE_URLS=<span class=\"hljs-string\">\"http://*:8080\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__Enable=<span class=\"hljs-string\">\"true\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__ServiceName=<span class=\"hljs-string\">\"SlimFaasMcp\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__Endpoint=<span class=\"hljs-string\">\"http://otel-collector:4317\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__ExcludedUrls__0=<span class=\"hljs-string\">\"/health\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__ExcludedUrls__1=<span class=\"hljs-string\">\"/metrics\"</span> <span class=\"hljs-punctuation\">\\\n</span>  axaguildev/slimfaas-mcp:latest\n</code></pre>\n<h4>‚úÖ Example (Docker using environment variables fallback - default behavior)</h4>\n<pre><code class=\"language-bash hljs\"><span class=\"hljs-attribute\">docker</span> run --rm -p <span class=\"hljs-number\">8080</span>:<span class=\"hljs-number\">8080</span> <span class=\"hljs-punctuation\">\\\n</span>  -e ASPNETCORE_URLS=<span class=\"hljs-string\">\"http://*:8080\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__Enable=<span class=\"hljs-string\">\"true\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OTEL_SERVICE_NAME=<span class=\"hljs-string\">\"SlimFaasMcp\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OTEL_EXPORTER_OTLP_ENDPOINT=<span class=\"hljs-string\">\"http://otel-collector:4317\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__ExcludedUrls__0=<span class=\"hljs-string\">\"/health\"</span> <span class=\"hljs-punctuation\">\\\n</span>  -e OpenTelemetry__ExcludedUrls__1=<span class=\"hljs-string\">\"/metrics\"</span> <span class=\"hljs-punctuation\">\\\n</span>  axaguildev/slimfaas-mcp:latest\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ul>\n<li>When <code>Enable</code> is <code>false</code>, OpenTelemetry instrumentation is completely disabled to avoid unnecessary overhead</li>\n<li>The <code>ServiceName</code> is optional; if not specified in configuration, it automatically falls back to the <code>OTEL_SERVICE_NAME</code> environment variable (this is the default OpenTelemetry behavior)</li>\n<li>The <code>Endpoint</code> automatically falls back to <code>OTEL_EXPORTER_OTLP_ENDPOINT</code> if not specified in configuration (this is the default OpenTelemetry behavior)</li>\n<li><strong>URL exclusion</strong>: URLs specified in <code>ExcludedUrls</code> are filtered from <strong>both tracing and logging</strong> based on <strong>case-insensitive path prefix matching</strong>. For example, <code>/health</code> will exclude <code>/health</code>, <code>/health/live</code>, <code>/health/ready</code>, etc.</li>\n<li>Empty or missing <code>ExcludedUrls</code> configuration will use the default values <code>[\"/health\", \"/metrics\"]</code></li>\n<li>URL filtering applies to <strong>traces and logs</strong>; metrics are not affected</li>\n</ul>\n<p>The instrumentation includes:</p>\n<ul>\n<li><strong>Traces</strong>: ASP.NET Core requests, HTTP client calls</li>\n<li><strong>Metrics</strong>: ASP.NET Core metrics, HTTP client metrics</li>\n<li><strong>Logs</strong>: Application logs with OpenTelemetry integration</li>\n</ul>\n<hr>\n<h2>üîê MCP <code>_meta</code> ‚Üí HTTP Header Mapping</h2>\n<p>SlimFaas MCP allows you to <strong>dynamically map values sent in the MCP\n<code>_meta</code> object to outgoing HTTP headers</strong>.<br>\nThis is especially useful when using MCP clients such as <strong>Spring AI</strong>,\nwhich can transmit authentication tokens via <code>_meta</code> instead of standard\nHTTP headers.</p>\n<p>This feature makes it possible to: - Inject <code>Authorization</code> headers from\n<code>_meta</code> - Forward session IDs or correlation IDs - Keep your MCP clients\nfully portable and stateless</p>\n<hr>\n<h3>‚úÖ Configuration (<code>appsettings.json</code>)</h3>\n<p>You can define the mapping using the <code>McpMetaHeaderMapping</code> section:</p>\n<pre><code class=\"language-json hljs\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"McpMetaHeaderMapping\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"authToken\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"Authorization\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"xSessionId\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"X-Session-Id\"</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p><code>_meta</code> Key    Injected HTTP Header</p>\n<hr>\n<p><code>authToken</code>    <code>Authorization</code>\n<code>xSessionId</code>   <code>X-Session-Id</code></p>\n<hr>\n<h3>‚úÖ MCP Request Example</h3>\n<pre><code class=\"language-json hljs\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"jsonrpc\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"2.0\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"method\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"tools/call\"</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-attr\">\"params\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-attr\">\"name\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"get_dashboard_policies\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"arguments\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span><span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"_meta\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"authToken\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"eyJhbGciOiJSUzI1NiIsInR5cCI...\"</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"xSessionId\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\"abc-123\"</span>\n    <span class=\"hljs-punctuation\">}</span>\n  <span class=\"hljs-punctuation\">}</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>\n<p>This will automatically generate the following outgoing headers:</p>\n<pre><code class=\"hljs\"><span class=\"hljs-attribute\">Authorization</span><span class=\"hljs-punctuation\">: </span>Bearer eyJhbGciOiJSUzI1NiIsInR5cCI...\n<span class=\"hljs-attribute\">X-Session-Id</span><span class=\"hljs-punctuation\">: </span>abc-123\n</code></pre>\n<blockquote>\n<p>‚úÖ If the mapped header is <code>Authorization</code>, SlimFaas MCP\n<strong>automatically prepends <code>Bearer</code></strong> if missing.</p>\n</blockquote>\n<hr>\n<h3>‚úÖ OAuth Challenge Compatibility</h3>\n<p>If you use the <code>oauth</code> query parameter (RFC 9728):</p>\n<ul>\n<li>SlimFaas MCP checks for <code>Authorization</code> <strong>both</strong> in:\n<ul>\n<li>incoming HTTP headers</li>\n<li>mapped <code>_meta</code> values</li>\n</ul>\n</li>\n<li>If no token is found, a <code>401</code> challenge is returned</li>\n<li>If <code>_meta.authToken</code> is mapped to <code>Authorization</code>, the challenge is\n<strong>automatically bypassed</strong></li>\n</ul>\n<hr>\n<h3>‚úÖ Compatibility</h3>\n<ul>\n<li>‚úÖ Spring AI MCP Client</li>\n<li>‚úÖ Custom MCP Clients</li>\n<li>‚úÖ Browser-based MCP Calls</li>\n<li>‚úÖ Secure OAuth / DPoP / PKCE / mTLS setups</li>\n</ul>\n<hr>\n<p>This feature ensures <strong>clean separation between MCP payload transport\nand HTTP security</strong>, while remaining fully MCP-compliant and\nframework-agnostic.</p>\n</body></html>","metadata":{}},"__N_SSG":true}