<!DOCTYPE html><html><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><link rel="icon" type="image/svg+xml" href="/slimfaas.svg" data-next-head=""/><title data-next-head="">SlimFaas : The slimmest and simplest Function As A Service</title><meta property="og:title" content="SlimFaas : The slimmest and simplest Function As A Service" data-next-head=""/><meta property="og:description" content="Deploy functions effortlessly with SlimFaas, the ultra-light FaaS platform." data-next-head=""/><meta property="og:image" content="https://github.com/SlimPlanet/SlimFaas/blob/main/documentation/SlimFaas.png?raw=true" data-next-head=""/><meta property="og:url" content="https://github.com/SlimPlanet/SlimFaas" data-next-head=""/><meta property="og:type" content="website" data-next-head=""/><meta name="twitter:card" content="https://github.com/SlimPlanet/SlimFaas/blob/main/documentation/SlimFaas.png?raw=true" data-next-head=""/><meta name="twitter:title" content="SlimFaas : The slimmest and simplest Function As A Service" data-next-head=""/><meta name="twitter:description" content="Deploy functions effortlessly with SlimFaas, the ultra-light FaaS platform." data-next-head=""/><meta name="twitter:image" content="https://github.com/SlimPlanet/SlimFaas/blob/main/documentation/SlimFaas.png?raw=true" data-next-head=""/><link rel="preload" href="/_next/static/css/0e42a88c023fd095.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0e42a88c023fd095.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" noModule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-8cac0b4b405cede1.js" defer=""></script><script src="/_next/static/chunks/framework-4447c10056014a1e.js" defer=""></script><script src="/_next/static/chunks/main-fc770a761bc24d55.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7a28e94a10e1aced.js" defer=""></script><script src="/_next/static/chunks/970-656de8cecde96972.js" defer=""></script><script src="/_next/static/chunks/pages/planet-saver-6e8bf560e65ba591.js" defer=""></script><script src="/_next/static/uuplcnkQdfBbpryfTO_mU/_buildManifest.js" defer=""></script><script src="/_next/static/uuplcnkQdfBbpryfTO_mU/_ssgManifest.js" defer=""></script></head><body><link rel="preload" as="image" href="https://www.cncf.io/wp-content/uploads/2022/07/cncf-stacked-color-bg.svg"/><div id="__next"><div class="layout"><nav class="layout__navbar"><div class="navbar__left"><a href="/"><img alt="Logo" data-nimg="1" loading="lazy" width="64" height="64" decoding="async" class="navbar__logo" style="color:transparent" src="https://github.com/cncf/artwork/blob/main/projects/slimfaas/icon/white/slimfaas-icon-white.svg?raw=true"/></a><button class="navbar__toggle " aria-label="Toggle menu"><span></span><span></span><span></span></button><ul class="navbar__list "><li class="navbar__item"><a href="/">Home</a></li><li class="navbar__item"><a href="/get-started">Get Started</a></li><li class="navbar__item"><a href="/functions">Functions</a></li><li class="navbar__item"><a href="/events">Events</a></li><li class="navbar__item"><a href="/jobs">Jobs</a></li><li class="navbar__item"><a href="/how-it-works">How it works</a></li><li class="navbar__item"><a href="/planet-saver">PlanetSaver</a></li><li class="navbar__item"><a href="/mcp">MCP</a></li></ul></div><a href="https://github.com/SlimPlanet/SlimFaas" class="navbar__github" target="_blank" rel="noopener noreferrer"><svg width="32" height="32" viewBox="0 0 24 24" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M12 0.296875C5.37256 0.296875 0 5.66943 0 12.2969C0 17.6394 3.43848 22.146 8.20703 23.7744C8.80762 23.8848 9.02344 23.5156 9.02344 23.1982C9.02344 22.9277 9.0127 21.9941 9.00781 20.9102C5.67188 21.6572 4.96875 19.1738 4.96875 19.1738C4.4375 17.8193 3.64062 17.498 3.64062 17.498C2.54785 16.7939 3.72461 16.8105 3.72461 16.8105C4.93359 16.8896 5.55469 18.0332 5.55469 18.0332C6.625 19.9316 8.37207 19.4082 9.0625 19.1113C9.16797 18.3301 9.45898 17.7939 9.78906 17.4863C7.14062 17.1807 4.34766 16.1582 4.34766 11.6084C4.34766 10.3223 4.8125 9.22852 5.58984 8.36133C5.46094 8.05566 5.04883 6.8418 5.71094 5.16406C5.71094 5.16406 6.72559 4.83008 9.00488 6.44336C9.97852 6.18164 11.0078 6.05078 12.0371 6.04688C13.0664 6.05078 14.0957 6.18164 15.0693 6.44336C17.3486 4.83008 18.3623 5.16406 18.3623 5.16406C19.0244 6.8418 18.6123 8.05566 18.4824 8.36133C19.2598 9.22852 19.7246 10.3223 19.7246 11.6084C19.7246 16.168 16.9277 17.1768 14.2734 17.4746C14.6914 17.8525 15.0547 18.5742 15.0547 19.7012C15.0547 21.3076 15.0391 22.6631 15.0391 23.1982C15.0391 23.5156 15.2559 23.8896 15.8613 23.7744C20.625 22.146 24.0664 17.6394 24.0664 12.2969C24 5.66943 18.6274 0.296875 12 0.296875Z"></path></svg></a></nav><main class="layout__content"><div><div><html><head></head><body><h1>SlimFaas Planet Saver <a href="https://badge.fury.io/js/%40axa-fr%2Fslimfaas-planet-saver"><img src="https://badge.fury.io/js/%40axa-fr%2Fslimfaas-planet-saver.svg" alt="npm version"></a></h1>
<blockquote>
<p><strong>Important Note</strong>: Starting from <strong>0 replicas</strong> to <strong>1 replica</strong> can be challenging because if no machine is available, the application must wait for a new machine to start. This startup process may exceed typical HTTP timeouts (for example, 7 minutes). <strong>SlimPlanet</strong> (via SlimFaas) solves this issue by providing a user-friendly interface that informs users the backend is starting, while the infrastructure wakes up in the background.</p>
</blockquote>
<p><strong>@axa-fr/slimfaas-planet-saver</strong> is a Vanilla JavaScript project to help ‚Äúsave the planet‚Äù by scaling your backends to zero when not in use, and waking them on demand. It is built around <a href="https://github.com/SlimPlanet/slimfaas">SlimFaas</a>, the slimmest and simplest Function-as-a-Service for Kubernetes.</p>
<p>SlimFaas provides an API to give your frontend detailed information about the state of your backend infrastructure. This makes <strong>@axa-fr/slimfaas-planet-saver</strong> a true <strong>‚Äúmind changer‚Äù</strong> ‚Äî in production, you can have zero replicas running for your API backend, and display a friendly message in the UI that the backend is starting (instead of showing an error). When the backend is ready, the user seamlessly continues their journey.</p>
<p><img src="https://github.com/AxaFrance/SlimFaas/blob/main/documentation/SlimfaasPlanetSaver.gif?raw=true" alt="SlimFaasPlanetSaver.gif"></p>
<hr>
<h2>Why Use @axa-fr/slimfaas-planet-saver?</h2>
<ul>
<li><strong>User-Friendly Zero-Replica</strong>: Show users a ‚Äústarting up‚Äù message instead of an error when your backend is scaling from zero.</li>
<li><strong>Easy Integration</strong>: A lightweight library that quickly plugs into your frontend code.</li>
<li><strong>Real-Time Monitoring</strong>: Continually checks your SlimFaas environment status and updates the UI when your services are ready.</li>
<li><strong>Mind Changer</strong>: Lets you remove always-on (idle) replicas. This can save costs and reduce carbon footprint.</li>
</ul>
<hr>
<h2>Installation</h2>
<p>Install via npm:</p>
<pre><code class="language-bash hljs"><span class="hljs-built_in">npm</span> install @axa-fr/slimfaas-planet-saver
</code></pre>
<hr>
<h2>Basic Usage (Vanilla JS Example)</h2>
<pre><code class="language-js hljs"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">SlimFaasPlanetSaver</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@axa-fr/slimfaas-planet-saver'</span>;

<span class="hljs-keyword">const</span> planetSaver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SlimFaasPlanetSaver</span>(<span class="hljs-string">'http://slimfaas.mycompany.com'</span>, {
    <span class="hljs-attr">interval</span>: <span class="hljs-number">2000</span>,
    <span class="hljs-attr">fetch</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">fetch</span>, <span class="hljs-comment">// or any fetch polyfill</span>
    <span class="hljs-attr">updateCallback</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Update callback data:'</span>, data);
    },
    <span class="hljs-attr">errorCallback</span>: <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error detected:'</span>, error);
    },
    <span class="hljs-attr">overlayStartingMessage</span>: <span class="hljs-string">'üå≥ Starting the environment... üå≥'</span>,
    <span class="hljs-attr">overlayNoActivityMessage</span>: <span class="hljs-string">'No activity yet ‚Äî environment is sleeping.'</span>,
    <span class="hljs-attr">overlayErrorMessage</span>: <span class="hljs-string">'An error occurred while starting the environment. Please try again later.'</span>,
});

<span class="hljs-comment">// Initialize and begin polling</span>
planetSaver.<span class="hljs-title function_">initialize</span>();
planetSaver.<span class="hljs-title function_">startPolling</span>();

<span class="hljs-comment">// When you no longer need it:</span>
planetSaver.<span class="hljs-title function_">cleanup</span>();

</code></pre>
<p>This example:</p>
<ol>
<li>Initializes a SlimFaasPlanetSaver instance with a base URL to your SlimFaas server.</li>
<li>Configures callbacks for status updates and errors.</li>
<li>Starts periodic polling to monitor environment readiness.</li>
</ol>
<hr>
<h2>React.js Example</h2>
<p>Below is a simplified code snippet showing how you might wrap your React app in a <code>PlanetSaver</code> component that checks if your environment is ready before rendering children:</p>
<pre><code class="language-javascript hljs"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState, useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">SlimFaasPlanetSaver</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@axa-fr/slimfaas-planet-saver'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">PlanetSaver</span> = (<span class="hljs-params">{ children, baseUrl, fetch, noActivityTimeout=<span class="hljs-number">60000</span>, behavior={} }</span>) =&gt; {
    <span class="hljs-keyword">const</span> [isFirstStart, setIsFirstStart] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> environmentStarterRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

    <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (!baseUrl) <span class="hljs-keyword">return</span>;

        <span class="hljs-keyword">if</span> (environmentStarterRef.<span class="hljs-property">current</span>) <span class="hljs-keyword">return</span>;

        <span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SlimFaasPlanetSaver</span>(baseUrl, {
            <span class="hljs-attr">interval</span>: <span class="hljs-number">2000</span>,
            fetch,
            behavior,
            <span class="hljs-attr">updateCallback</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
                <span class="hljs-comment">// Filter only the items that block the UI (WakeUp+BlockUI)</span>
                <span class="hljs-keyword">const</span> blockingItems = data.<span class="hljs-title function_">filter</span>(
                    <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> instance.<span class="hljs-title function_">getBehavior</span>(item.<span class="hljs-property">Name</span>) === <span class="hljs-string">'WakeUp+BlockUI'</span>
                );

                <span class="hljs-comment">// If all blocking items are ready, set isFirstStart to false</span>
                <span class="hljs-keyword">const</span> allBlockingReady = blockingItems.<span class="hljs-title function_">every</span>(
                    <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">NumberReady</span> &gt;= <span class="hljs-number">1</span>
                );
                <span class="hljs-keyword">if</span> (allBlockingReady &amp;&amp; isFirstStart) {
                    <span class="hljs-title function_">setIsFirstStart</span>(<span class="hljs-literal">false</span>);
                }
            },
            <span class="hljs-attr">errorCallback</span>: <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Error detected :'</span>, error);
            },
            <span class="hljs-attr">overlayStartingMessage</span>: <span class="hljs-string">'üå≥ Starting the environment.... üå≥'</span>,
            <span class="hljs-attr">overlayNoActivityMessage</span>: <span class="hljs-string">'Waiting activity to start environment...'</span>,
            <span class="hljs-attr">overlayErrorMessage</span>: <span class="hljs-string">'An error occurred when starting environment. Please contact an administrator.'</span>,
            <span class="hljs-attr">overlaySecondaryMessage</span>: <span class="hljs-string">'Startup should be fast, but if no machines are available it can take several minutes.'</span>,
            <span class="hljs-attr">overlayLoadingIcon</span>: <span class="hljs-string">'üåç'</span>,
            <span class="hljs-attr">overlayErrorSecondaryMessage</span>: <span class="hljs-string">'If the error persists, please contact an administrator.'</span>,
            noActivityTimeout
        });

        environmentStarterRef.<span class="hljs-property">current</span> = instance;

        <span class="hljs-comment">// Initialiser les effets de bord</span>
        instance.<span class="hljs-title function_">initialize</span>();
        instance.<span class="hljs-title function_">startPolling</span>();

        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            instance.<span class="hljs-title function_">cleanup</span>();
            environmentStarterRef.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
        };
    }, [baseUrl]);

    <span class="hljs-keyword">if</span> (isFirstStart) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span>{children}<span class="hljs-tag">&lt;/&gt;</span></span>;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PlanetSaver</span>;

</code></pre>
<h3>Usage:</h3>
<pre><code class="language-jsx hljs"><span class="hljs-keyword">const</span> <span class="hljs-attr">behavior</span>: {
    <span class="hljs-string">"api-speech-to-text"</span>: <span class="hljs-string">"WakeUp"</span>,
    <span class="hljs-string">"heavy-pdf-service"</span>: <span class="hljs-string">"WakeUp+BlockUI"</span>,
    <span class="hljs-string">"deprecated-service"</span>: <span class="hljs-string">"None"</span>
}

&lt;<span class="hljs-title class_">PlanetSaver</span> baseUrl=<span class="hljs-string">"http://slimfaas.mycompany.com"</span> fetch={<span class="hljs-variable language_">window</span>.<span class="hljs-property">fetch</span>} behavior={behavior}&gt;
  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>
&lt;/<span class="hljs-title class_">PlanetSaver</span>&gt;
</code></pre>
<hr>
<h2>Running the Demo Locally</h2>
<p>To see @axa-fr/slimfaas-planet-saver in action:</p>
<pre><code class="language-bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/SlimPlanet/slimfaas.git
<span class="hljs-built_in">cd</span> slimfaas/src/SlimFaasPlanetSaver
npm install
npm run dev
</code></pre>
<p>Then open your browser at the address shown in the console to view the demo.</p>
<hr>
<h2>Configuration Options</h2>
<p>When you create a <code>new SlimFaasPlanetSaver(baseUrl, options)</code>, you can provide the following optional properties in the <code>options</code> object:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>updateCallback</td>
<td><code>(data: any[]) =&gt; void</code></td>
<td><code>() =&gt; {}</code></td>
<td>Function called after a successful fetch of the functions‚Äô status. The array data includes objects with info about each function, for example: <code>[{ Name: 'myFunc', NumberReady: 1 }, ...]</code>.</td>
</tr>
<tr>
<td>errorCallback</td>
<td><code>(errorMessage: string) =&gt; void</code></td>
<td><code>() =&gt; {}</code></td>
<td>Function called if an error occurs during the status fetch (e.g., network error). Receives an errorMessage string.</td>
</tr>
<tr>
<td>interval</td>
<td><code>number</code></td>
<td><code>5000</code></td>
<td>How frequently (in ms) the polling should run.</td>
</tr>
<tr>
<td>overlayStartingMessage</td>
<td><code>string</code></td>
<td><code>"üå≥ Starting the environment.... üå≥"</code></td>
<td>Main message shown on the overlay when the environment is waking up.</td>
</tr>
<tr>
<td>overlayNoActivityMessage</td>
<td><code>string</code></td>
<td><code>"Waiting activity to start environment..."</code></td>
<td>Message shown if there is no user activity (mouse movement) for too long, but the environment is not ready yet.</td>
</tr>
<tr>
<td>overlayErrorMessage</td>
<td><code>string</code></td>
<td><code>"An error occurred while starting the environment."</code></td>
<td>Main message shown on the overlay if an error occurs (e.g., network error).</td>
</tr>
<tr>
<td>overlaySecondaryMessage</td>
<td><code>string</code></td>
<td><code>"Startup should be fast, but if no machines are available it can take several minutes."</code></td>
<td>Secondary message shown on the overlay when the environment is waking up.</td>
</tr>
<tr>
<td>overlayErrorSecondaryMessage</td>
<td><code>string</code></td>
<td><code>"If the error persists, please contact an administrator."</code></td>
<td>Secondary message shown on the overlay when an error occurs.</td>
</tr>
<tr>
<td>overlayLoadingIcon</td>
<td><code>string</code></td>
<td><code>"üåç"</code></td>
<td>Text or icon shown on the overlay. By default, it is animated to spin.</td>
</tr>
<tr>
<td>noActivityTimeout</td>
<td><code>number</code></td>
<td><code>60000</code></td>
<td>How long (in ms) to wait for mouse movement before concluding there is no activity. If no activity is detected, a different overlay message is displayed.</td>
</tr>
<tr>
<td>wakeUpTimeout</td>
<td><code>number</code></td>
<td><code>60000</code></td>
<td>If a function was recently ‚Äúwoken up,‚Äù we‚Äôll skip re-calling wake-up for that function within this timeout window (in ms).</td>
</tr>
<tr>
<td>fetch</td>
<td><code>typeof fetch</code></td>
<td>Global fetch</td>
<td>Custom fetch function if you want to provide your own (e.g., for SSR, or if your environment doesn't have a global fetch).</td>
</tr>
<tr>
<td>behavior</td>
<td><code>{ [functionName: string]: 'WakeUp+BlockUI' | 'WakeUp' | 'None' }</code></td>
<td><em>Not set; defaults each function to "WakeUp+BlockUI" if unspecified</em></td>
<td>Allows you to override how each function is handled: 1. <code>"WakeUp+BlockUI"</code>: wakes the function and blocks the UI with the overlay until it‚Äôs ready. 2. <code>"WakeUp"</code>: wakes without blocking the UI. 3. <code>"None"</code>: no wake-up call.</td>
</tr>
</tbody>
</table>
<h3>Notes on Behavior</h3>
<p>If a function is <strong>not</strong> specified in the behavior map, it defaults to <code>"WakeUp+BlockUI"</code>.</p>
<ul>
<li><code>"WakeUp+BlockUI"</code> means the overlay will be shown until that function is <code>NumberReady &gt;= 1</code>.</li>
<li><code>"WakeUp"</code> means we attempt to wake up the function, but do not keep the overlay shown specifically for that function.</li>
<li><code>"None"</code> means the function will neither be woken up nor block the UI.</li>
</ul>
<h3>Lifecycle</h3>
<ol>
<li>
<p><strong>Initialize</strong>
Call <code>instance.initialize()</code> to create the overlay elements, inject styles, and bind event listeners (e.g., for mouse movement).</p>
</li>
<li>
<p><strong>Start Polling</strong>
Call <code>instance.startPolling()</code> to begin the periodic checks of the environment. If the environment is not ready, the overlay will appear.</p>
</li>
<li>
<p><strong>Stop Polling / Cleanup</strong>
When your component unmounts or you no longer need to monitor the environment, call <code>instance.cleanup()</code>. This removes the overlay, styles, and any timers or event listeners.</p>
</li>
</ol>
</body></html></div></div></main><footer class="footer"><div class="footer__container"><p class="footer__origin">SlimFaas was originally created by AXA France.</p><div class="footer__cncf"><p class="footer__cncf-text">We are a Cloud Native Computing Foundation sandbox project.</p><img src="https://www.cncf.io/wp-content/uploads/2022/07/cncf-stacked-color-bg.svg" alt="CNCF Logo" class="footer__cncf-logo"/></div><p class="footer__kubecon">Learn more about us at <a href="https://events.linuxfoundation.org/kubecon-cloudnativecon/" class="footer__kubecon-link">KubeCon + CloudNativeCon</a>.</p><p class="footer__trademark">The Linux Foundation¬Æ (TLF) has registered trademarks and uses trademarks. For a list of TLF trademarks, see <a href="https://www.linuxfoundation.org/trademark-usage" class="footer__trademark-link">Trademark Usage</a>.</p><p class="footer__copyright">¬© SlimFaas a Series of LF Projects, LLC. All rights reserved.</p></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"contentHtml":"\u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003ch1\u003eSlimFaas Planet Saver \u003ca href=\"https://badge.fury.io/js/%40axa-fr%2Fslimfaas-planet-saver\"\u003e\u003cimg src=\"https://badge.fury.io/js/%40axa-fr%2Fslimfaas-planet-saver.svg\" alt=\"npm version\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eImportant Note\u003c/strong\u003e: Starting from \u003cstrong\u003e0 replicas\u003c/strong\u003e to \u003cstrong\u003e1 replica\u003c/strong\u003e can be challenging because if no machine is available, the application must wait for a new machine to start. This startup process may exceed typical HTTP timeouts (for example, 7 minutes). \u003cstrong\u003eSlimPlanet\u003c/strong\u003e (via SlimFaas) solves this issue by providing a user-friendly interface that informs users the backend is starting, while the infrastructure wakes up in the background.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cstrong\u003e@axa-fr/slimfaas-planet-saver\u003c/strong\u003e is a Vanilla JavaScript project to help ‚Äúsave the planet‚Äù by scaling your backends to zero when not in use, and waking them on demand. It is built around \u003ca href=\"https://github.com/SlimPlanet/slimfaas\"\u003eSlimFaas\u003c/a\u003e, the slimmest and simplest Function-as-a-Service for Kubernetes.\u003c/p\u003e\n\u003cp\u003eSlimFaas provides an API to give your frontend detailed information about the state of your backend infrastructure. This makes \u003cstrong\u003e@axa-fr/slimfaas-planet-saver\u003c/strong\u003e a true \u003cstrong\u003e‚Äúmind changer‚Äù\u003c/strong\u003e ‚Äî in production, you can have zero replicas running for your API backend, and display a friendly message in the UI that the backend is starting (instead of showing an error). When the backend is ready, the user seamlessly continues their journey.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://github.com/AxaFrance/SlimFaas/blob/main/documentation/SlimfaasPlanetSaver.gif?raw=true\" alt=\"SlimFaasPlanetSaver.gif\"\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003eWhy Use @axa-fr/slimfaas-planet-saver?\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eUser-Friendly Zero-Replica\u003c/strong\u003e: Show users a ‚Äústarting up‚Äù message instead of an error when your backend is scaling from zero.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eEasy Integration\u003c/strong\u003e: A lightweight library that quickly plugs into your frontend code.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eReal-Time Monitoring\u003c/strong\u003e: Continually checks your SlimFaas environment status and updates the UI when your services are ready.\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eMind Changer\u003c/strong\u003e: Lets you remove always-on (idle) replicas. This can save costs and reduce carbon footprint.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2\u003eInstallation\u003c/h2\u003e\n\u003cp\u003eInstall via npm:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash hljs\"\u003e\u003cspan class=\"hljs-built_in\"\u003enpm\u003c/span\u003e install @axa-fr/slimfaas-planet-saver\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eBasic Usage (Vanilla JS Example)\u003c/h2\u003e\n\u003cpre\u003e\u003ccode class=\"language-js hljs\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eSlimFaasPlanetSaver\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@axa-fr/slimfaas-planet-saver'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e planetSaver = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSlimFaasPlanetSaver\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'http://slimfaas.mycompany.com'\u003c/span\u003e, {\n    \u003cspan class=\"hljs-attr\"\u003einterval\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2000\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003efetch\u003c/span\u003e: \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003efetch\u003c/span\u003e, \u003cspan class=\"hljs-comment\"\u003e// or any fetch polyfill\u003c/span\u003e\n    \u003cspan class=\"hljs-attr\"\u003eupdateCallback\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n        \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Update callback data:'\u003c/span\u003e, data);\n    },\n    \u003cspan class=\"hljs-attr\"\u003eerrorCallback\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerror\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n        \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Error detected:'\u003c/span\u003e, error);\n    },\n    \u003cspan class=\"hljs-attr\"\u003eoverlayStartingMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'üå≥ Starting the environment... üå≥'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eoverlayNoActivityMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'No activity yet ‚Äî environment is sleeping.'\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003eoverlayErrorMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'An error occurred while starting the environment. Please try again later.'\u003c/span\u003e,\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// Initialize and begin polling\u003c/span\u003e\nplanetSaver.\u003cspan class=\"hljs-title function_\"\u003einitialize\u003c/span\u003e();\nplanetSaver.\u003cspan class=\"hljs-title function_\"\u003estartPolling\u003c/span\u003e();\n\n\u003cspan class=\"hljs-comment\"\u003e// When you no longer need it:\u003c/span\u003e\nplanetSaver.\u003cspan class=\"hljs-title function_\"\u003ecleanup\u003c/span\u003e();\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis example:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eInitializes a SlimFaasPlanetSaver instance with a base URL to your SlimFaas server.\u003c/li\u003e\n\u003cli\u003eConfigures callbacks for status updates and errors.\u003c/li\u003e\n\u003cli\u003eStarts periodic polling to monitor environment readiness.\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003ch2\u003eReact.js Example\u003c/h2\u003e\n\u003cp\u003eBelow is a simplified code snippet showing how you might wrap your React app in a \u003ccode\u003ePlanetSaver\u003c/code\u003e component that checks if your environment is ready before rendering children:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript hljs\"\u003e\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eReact\u003c/span\u003e, { useState, useEffect, useRef } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'react'\u003c/span\u003e;\n\u003cspan class=\"hljs-keyword\"\u003eimport\u003c/span\u003e { \u003cspan class=\"hljs-title class_\"\u003eSlimFaasPlanetSaver\u003c/span\u003e } \u003cspan class=\"hljs-keyword\"\u003efrom\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e'@axa-fr/slimfaas-planet-saver'\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ePlanetSaver\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003e{ children, baseUrl, fetch, noActivityTimeout=\u003cspan class=\"hljs-number\"\u003e60000\u003c/span\u003e, behavior={} }\u003c/span\u003e) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [isFirstStart, setIsFirstStart] = \u003cspan class=\"hljs-title function_\"\u003euseState\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003etrue\u003c/span\u003e);\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e environmentStarterRef = \u003cspan class=\"hljs-title function_\"\u003euseRef\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-title function_\"\u003euseEffect\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (!baseUrl) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n\n        \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (environmentStarterRef.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e) \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e;\n\n        \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e instance = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eSlimFaasPlanetSaver\u003c/span\u003e(baseUrl, {\n            \u003cspan class=\"hljs-attr\"\u003einterval\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2000\u003c/span\u003e,\n            fetch,\n            behavior,\n            \u003cspan class=\"hljs-attr\"\u003eupdateCallback\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n                \u003cspan class=\"hljs-comment\"\u003e// Filter only the items that block the UI (WakeUp+BlockUI)\u003c/span\u003e\n                \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e blockingItems = data.\u003cspan class=\"hljs-title function_\"\u003efilter\u003c/span\u003e(\n                    \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e) =\u0026gt;\u003c/span\u003e instance.\u003cspan class=\"hljs-title function_\"\u003egetBehavior\u003c/span\u003e(item.\u003cspan class=\"hljs-property\"\u003eName\u003c/span\u003e) === \u003cspan class=\"hljs-string\"\u003e'WakeUp+BlockUI'\u003c/span\u003e\n                );\n\n                \u003cspan class=\"hljs-comment\"\u003e// If all blocking items are ready, set isFirstStart to false\u003c/span\u003e\n                \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e allBlockingReady = blockingItems.\u003cspan class=\"hljs-title function_\"\u003eevery\u003c/span\u003e(\n                    \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e) =\u0026gt;\u003c/span\u003e item.\u003cspan class=\"hljs-property\"\u003eNumberReady\u003c/span\u003e \u0026gt;= \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n                );\n                \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (allBlockingReady \u0026amp;\u0026amp; isFirstStart) {\n                    \u003cspan class=\"hljs-title function_\"\u003esetIsFirstStart\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n                }\n            },\n            \u003cspan class=\"hljs-attr\"\u003eerrorCallback\u003c/span\u003e: \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerror\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n                \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eerror\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e'Error detected :'\u003c/span\u003e, error);\n            },\n            \u003cspan class=\"hljs-attr\"\u003eoverlayStartingMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'üå≥ Starting the environment.... üå≥'\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eoverlayNoActivityMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Waiting activity to start environment...'\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eoverlayErrorMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'An error occurred when starting environment. Please contact an administrator.'\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eoverlaySecondaryMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'Startup should be fast, but if no machines are available it can take several minutes.'\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eoverlayLoadingIcon\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'üåç'\u003c/span\u003e,\n            \u003cspan class=\"hljs-attr\"\u003eoverlayErrorSecondaryMessage\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e'If the error persists, please contact an administrator.'\u003c/span\u003e,\n            noActivityTimeout\n        });\n\n        environmentStarterRef.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e = instance;\n\n        \u003cspan class=\"hljs-comment\"\u003e// Initialiser les effets de bord\u003c/span\u003e\n        instance.\u003cspan class=\"hljs-title function_\"\u003einitialize\u003c/span\u003e();\n        instance.\u003cspan class=\"hljs-title function_\"\u003estartPolling\u003c/span\u003e();\n\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n            instance.\u003cspan class=\"hljs-title function_\"\u003ecleanup\u003c/span\u003e();\n            environmentStarterRef.\u003cspan class=\"hljs-property\"\u003ecurrent\u003c/span\u003e = \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n        };\n    }, [baseUrl]);\n\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (isFirstStart) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e;\n    }\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u0026gt;\u003c/span\u003e{children}\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u0026gt;\u003c/span\u003e\u003c/span\u003e;\n};\n\n\u003cspan class=\"hljs-keyword\"\u003eexport\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003edefault\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePlanetSaver\u003c/span\u003e;\n\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eUsage:\u003c/h3\u003e\n\u003cpre\u003e\u003ccode class=\"language-jsx hljs\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003ebehavior\u003c/span\u003e: {\n    \u003cspan class=\"hljs-string\"\u003e\"api-speech-to-text\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"WakeUp\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"heavy-pdf-service\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"WakeUp+BlockUI\"\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\"deprecated-service\"\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\"None\"\u003c/span\u003e\n}\n\n\u0026lt;\u003cspan class=\"hljs-title class_\"\u003ePlanetSaver\u003c/span\u003e baseUrl=\u003cspan class=\"hljs-string\"\u003e\"http://slimfaas.mycompany.com\"\u003c/span\u003e fetch={\u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003efetch\u003c/span\u003e} behavior={behavior}\u0026gt;\n  \u003cspan class=\"language-xml\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003eApp\u003c/span\u003e /\u0026gt;\u003c/span\u003e\u003c/span\u003e\n\u0026lt;/\u003cspan class=\"hljs-title class_\"\u003ePlanetSaver\u003c/span\u003e\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\u003chr\u003e\n\u003ch2\u003eRunning the Demo Locally\u003c/h2\u003e\n\u003cp\u003eTo see @axa-fr/slimfaas-planet-saver in action:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-bash hljs\"\u003egit \u003cspan class=\"hljs-built_in\"\u003eclone\u003c/span\u003e https://github.com/SlimPlanet/slimfaas.git\n\u003cspan class=\"hljs-built_in\"\u003ecd\u003c/span\u003e slimfaas/src/SlimFaasPlanetSaver\nnpm install\nnpm run dev\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen open your browser at the address shown in the console to view the demo.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2\u003eConfiguration Options\u003c/h2\u003e\n\u003cp\u003eWhen you create a \u003ccode\u003enew SlimFaasPlanetSaver(baseUrl, options)\u003c/code\u003e, you can provide the following optional properties in the \u003ccode\u003eoptions\u003c/code\u003e object:\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eProperty\u003c/th\u003e\n\u003cth\u003eType\u003c/th\u003e\n\u003cth\u003eDefault\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eupdateCallback\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e(data: any[]) =\u0026gt; void\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e() =\u0026gt; {}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eFunction called after a successful fetch of the functions‚Äô status. The array data includes objects with info about each function, for example: \u003ccode\u003e[{ Name: 'myFunc', NumberReady: 1 }, ...]\u003c/code\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eerrorCallback\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e(errorMessage: string) =\u0026gt; void\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e() =\u0026gt; {}\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eFunction called if an error occurs during the status fetch (e.g., network error). Receives an errorMessage string.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003einterval\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003enumber\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e5000\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eHow frequently (in ms) the polling should run.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoverlayStartingMessage\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003estring\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e\"üå≥ Starting the environment.... üå≥\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eMain message shown on the overlay when the environment is waking up.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoverlayNoActivityMessage\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003estring\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e\"Waiting activity to start environment...\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eMessage shown if there is no user activity (mouse movement) for too long, but the environment is not ready yet.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoverlayErrorMessage\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003estring\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e\"An error occurred while starting the environment.\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eMain message shown on the overlay if an error occurs (e.g., network error).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoverlaySecondaryMessage\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003estring\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e\"Startup should be fast, but if no machines are available it can take several minutes.\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eSecondary message shown on the overlay when the environment is waking up.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoverlayErrorSecondaryMessage\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003estring\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e\"If the error persists, please contact an administrator.\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eSecondary message shown on the overlay when an error occurs.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eoverlayLoadingIcon\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003estring\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e\"üåç\"\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eText or icon shown on the overlay. By default, it is animated to spin.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003enoActivityTimeout\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003enumber\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e60000\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eHow long (in ms) to wait for mouse movement before concluding there is no activity. If no activity is detected, a different overlay message is displayed.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ewakeUpTimeout\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003enumber\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e60000\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eIf a function was recently ‚Äúwoken up,‚Äù we‚Äôll skip re-calling wake-up for that function within this timeout window (in ms).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003efetch\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003etypeof fetch\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eGlobal fetch\u003c/td\u003e\n\u003ctd\u003eCustom fetch function if you want to provide your own (e.g., for SSR, or if your environment doesn't have a global fetch).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ebehavior\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e{ [functionName: string]: 'WakeUp+BlockUI' | 'WakeUp' | 'None' }\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003eNot set; defaults each function to \"WakeUp+BlockUI\" if unspecified\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eAllows you to override how each function is handled: 1. \u003ccode\u003e\"WakeUp+BlockUI\"\u003c/code\u003e: wakes the function and blocks the UI with the overlay until it‚Äôs ready. 2. \u003ccode\u003e\"WakeUp\"\u003c/code\u003e: wakes without blocking the UI. 3. \u003ccode\u003e\"None\"\u003c/code\u003e: no wake-up call.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eNotes on Behavior\u003c/h3\u003e\n\u003cp\u003eIf a function is \u003cstrong\u003enot\u003c/strong\u003e specified in the behavior map, it defaults to \u003ccode\u003e\"WakeUp+BlockUI\"\u003c/code\u003e.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e\"WakeUp+BlockUI\"\u003c/code\u003e means the overlay will be shown until that function is \u003ccode\u003eNumberReady \u0026gt;= 1\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e\"WakeUp\"\u003c/code\u003e means we attempt to wake up the function, but do not keep the overlay shown specifically for that function.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e\"None\"\u003c/code\u003e means the function will neither be woken up nor block the UI.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eLifecycle\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eInitialize\u003c/strong\u003e\nCall \u003ccode\u003einstance.initialize()\u003c/code\u003e to create the overlay elements, inject styles, and bind event listeners (e.g., for mouse movement).\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eStart Polling\u003c/strong\u003e\nCall \u003ccode\u003einstance.startPolling()\u003c/code\u003e to begin the periodic checks of the environment. If the environment is not ready, the overlay will appear.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eStop Polling / Cleanup\u003c/strong\u003e\nWhen your component unmounts or you no longer need to monitor the environment, call \u003ccode\u003einstance.cleanup()\u003c/code\u003e. This removes the overlay, styles, and any timers or event listeners.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/body\u003e\u003c/html\u003e","metadata":{}},"__N_SSG":true},"page":"/planet-saver","query":{},"buildId":"uuplcnkQdfBbpryfTO_mU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>